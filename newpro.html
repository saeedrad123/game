<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dental ejucation</title>

    <link href="assets/css/bootstrap.rtl.css" rel="stylesheet" />
    <link href="assets/css/mystyle.css" rel="stylesheet" />
    <script src="assets/javascript/jquery-3.7.1.min.js" ></script>
    <script src="assets/javascript/bootstrap.min.js" ></script>
</head>
<body>



    <div class="container">
        <div id="game-area">

        <div id="celebration-screen">
            <div class="confetti" aria-hidden="true">
              <!-- Individual confetti pieces -->
              <div class="confetti-piece"></div>
              <div class="confetti-piece"></div>
              <div class="confetti-piece"></div>
              <div class="confetti-piece"></div>
              <div class="confetti-piece"></div>
              <div class="confetti-piece"></div>
            </div>
            <h1 class="celebrate-text">ÿ¥ŸÖÿß ÿ®Ÿá ŸÖÿ±ÿ≠ŸÑŸá ÿ®ÿπÿØ ÿ±ÿßŸá €åÿßŸÅÿ™€åÿØ üéâ</h1>

            </div>
            </div>






            <style>
             
              
           
              
              #celebration-screen {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.8);
                color: white;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                z-index: 10000;
              }
              
              .celebrate-text {
                font-size: 4em;
                animation: bounce 2s infinite;
                color: yellow;
              }
              
              button {
                padding: 10px 20px;
                font-size: 16px;
                cursor: pointer;
                background-color: #ffcc00;
                border: none;
                border-radius: 5px;
              }
              
              .confetti {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: -1;
              }
              
              .confetti-piece {
                position: absolute;
                top: -10px;
                width: 15px;
                height: 15px;
                background-color: #ffcc00;
                animation: fall 3s ease-in-out infinite;
                opacity: 0;
              }
              
              /* Different colors and sizes for the confetti */
              .confetti-piece:nth-child(2n) { background-color: #ff6f61; }
              .confetti-piece:nth-child(3n) { background-color: #61dafb; }
              .confetti-piece:nth-child(4n) { background-color: #ffcc99; }
              .confetti-piece:nth-child(5n) { background-color: #32cd32; }
              .confetti-piece:nth-child(6n) { background-color: #ff69b4; }
              
              @keyframes fall {
                0% { transform: scale(0); opacity: 1; top: 50vh; left: 50vw; }
                25% { transform: scale(1); }
                100% { 
                  transform: translateY(100vh) rotate(720deg);
                  opacity: 0;
                  top: 0;
                  left: calc(50vw + (rand(-50, 50)) * 1px); 
                }
              }
              
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-30px); }
              }
              
              </style>
              
              <script>
            
                // $('#stage-clear-btn').click(function() {
                //   // Show celebration screen
                //   $('#game-area').hide();
                //   $('#celebration-screen').fadeIn();
                //   triggerConfetti();
                // });
              
               
              
                function triggerConfetti() {
                  // Randomly animate confetti pieces
                  $('.confetti-piece').each(function(index) {
                    var leftPosition = Math.random() * 100 + 'vw';
                    var delay = Math.random() * 2 + 's';
                    $(this).css({
                      'left': leftPosition,
                      'animation-delay': delay
                    }).addClass('animate');
                  });
                }
              
                function stopConfetti() {
                  // Reset confetti animation
                  $('.confetti-piece').removeClass('animate').css({
                    'top': '-10px',
                    'opacity': '0'
                  });
                }
       
              $('#celebration-screen').css("display","none");
             
                  stopConfetti();
              </script>

        <div class="row">




          <div class="col-md">
            <div class="alert alert-light" role="alert">
                <div class="d-flex flex-row align-content-around">
                <div class="col" >
                    <div>
               ÿ®ÿßŸÇ€å‚ÄåŸÖÿßŸÜÿØŸá
                    </div>
               <span class="badge text-bg-primary" id="wholeAnswer">16</span>
            </div> 
                <div class="col" >
                    <div>
                    ÿØÿ±ÿ≥ÿ™ 
                    </div>
                    <div class="badge text-bg-success" id="trueAnswer">0</div>
                     </div> 
                <div class="col" >
                    <div>
                        ÿ∫ŸÑÿ∑
                    </div>
                        <div class="badge text-bg-danger" id="falseAnswer">0</div>
                </div> 
            </div>
              </div>
          </div>
          <div class="col-md-3">
            <div class="text-center">
            <div class="card border-primary mb-3" style="max-width: 18rem;margin:0 auto;">
                <div class="card-header text-center">ŸÜÿßÿ≠€åŸá ŸÖŸàÿ±ÿØ ŸÜÿ∏ÿ±</div>
                <div class="card-body text-primary">
                  <h5 class="card-title"></h5>
                  <p class="card-text text-center" id="gameStageName">
                </p>
                </div>
              </div>
            </div>
          </div>
         
          <div class="col-md">
            <div class="alert alert-light" role="alert">
                <div class="d-flex flex-row align-content-around">
                    <div class="col">

                <div id="timer" class="col-12" style="direction: ltr;font-size: 24px;font-weight: bold;text-align: center;">
                    <div class="clock-wrapper">
                        <span class="hours">00</span>
                        <span class="dots">:</span>
                        <span class="minutes">00</span>
                        <span class="dots">:</span>
                        <span class="seconds">00</span>
                    </div>
                
                  </div>
                </div>
                <div class="col">
                  <button type="button" class="btn btn-primary" onclick="location.reload()">ÿØŸàÿ®ÿßÿ±Ÿá</button>
                </div>
                </div>

            </div>
            
          </div>
          
        </div>
        <div class="" style="display: flex; justify-content: center; align-items: center;flex-direction: column;">
        <div class="coin" id="coin"></div>
        <div class=""  id="trueAnswer1" style="text-align: center;  font-weight: 700; color: #e7b245;font-size: 19px;">0</div>
      </div>
        <div style="text-align: center;">
            <audio id="audioCorrect">
                <source src="assets/voice/correct.mp3" type="audio/mpeg">
              </audio>
              <audio id="audioWrong">
                <source src="assets/voice/wrong.mp3" type="audio/mpeg">
              </audio>

              <audio id="winStage">
                <source src="assets/voice/winstage.wav" type="audio/mpeg">
              </audio>
            

        <div class="container-sp" style="margin: 0 auto;">
            <img src="./assets/image/0nZXNeqUpLJ.png" alt="Sample Image">
            
            <!-- Markers on the image -->
            <div class="marker marker1" data-tooltip="Porion (P)"></div>
            <div class="marker marker2" data-tooltip="Bolton (Bo)"></div>
            <div class="marker marker3" data-tooltip="Sella Turcica (S)"></div>
            <div class="marker marker4"  data-tooltip="Condylion (Co)"></div>
            <div class="marker marker5" data-tooltip="Gonion (Go)"></div>
            <div class="marker marker6" data-tooltip="Posterior Nasal Spine (PNS)"></div>
            <div class="marker marker7" data-tooltip="B-point"></div>
            <div class="marker marker8" data-tooltip="Pogonion (Pog)"></div>
            <div class="marker marker9" data-tooltip="Gnathion (Gn)"></div>
            <div class="marker marker10" data-tooltip="Menton (Me)"></div>
            <div class="marker marker11" data-tooltip="Basion (Ba)"></div>
            <div class="marker marker12" data-tooltip="Nasion (Na)"></div>
            <div class="marker marker13" data-tooltip="Orbitale (Or)"></div>
            <div class="marker marker14" data-tooltip="Anterior Nasal Spine (ANS)"></div>
            <div class="marker marker15" data-tooltip="A point"></div>
            <div class="marker marker16" data-tooltip="PT point"></div>
            <!-- <div class="marker marker17" data-tooltip="Upper Lip (UL)"></div>
            <div class="marker marker18" data-tooltip="Lower Lip (LL)"></div> -->


            <div  id="spetialLines">
                <div class="line line1" style="display: none;" data-line="SN"></div>
                <div class="line line2" style="display: none;" data-line="Frankfort(po-or)"></div>
                <div class="line line3" style="display: none;"    data-line="Palatial plan(PNS-ANS)"></div>
                
                <div class="line line4" style="display: none;" data-line="Anatomical Occlusal plan"></div>

                <div class="line line5" style="display: none;" data-line="Mandibular plan(Go-Gn)"></div>
                <div class="line line6" style="display: none;" data-line="Facial plan"></div>
                <div class="line line7" style="display: none;" data-line="NA"></div>
                <div class="line line8" style="display: none;" data-line="NB"></div>
                <div class="line line9" style="display: none;" data-line="N-perp"></div>

                <div class="line line10" style="display: none;" data-line="S-Gn"></div>
                <div class="line line11" style="display: none;" data-line="ANS-Me"></div>
                <div class="line line12" style="display: none;" data-line="N-Me"></div>
                    
                    
               </div>
               <div class="anglesLines">
                <div class="aglines">
                <div class="aglines1"  style="display: none;"> 
                <div class="line line14"  data-line="FMIA"></div>
                <div class="line line15"  data-line="FMIA"></div>
                </div>
                <div class="aglines2" style="display: none;"> 
                 <div class="line line13"  data-line="FMIA"></div>
                    <div class="line line14"  data-line="FMIA"></div>
                </div>
                <div class="aglines3" style="display: none;"> 
                        <div class="line line13"  data-line="FMIA"></div>
                        <div class="line line15"  data-line="FMIA"></div>
                 </div>
                 <div class="aglines4" style="display: none;"> 
                    <div class="line line13"  data-line="FMIA"></div>
                    <div class="line line16"  data-line="FMIA"></div>
                </div>

                </div>
                
                <div id="angles">
                <div class="angle angle3" style="display: none;"></div>
                <div class="angle angle1" style="display: none;"></div>
                <div class="angle angle2" style="display: none;"></div>
                <div class="angle angle4" style="display: none;"></div>

                </div>

               </div>


               
            <style>
                .line {
                    position: absolute;
                    
                    height: 5px;
                    background-color: #47d12e;
                    transform-origin: left center;
                    
                    border: 1px solid;
                    z-index: 2;
  
                    }

                    .line1{
                     top: 27.4%;
                    left: 53%;
                    width: 31.3%;
                    transform: rotate(-17deg);
                    }
                    .line2{
                        top: 34%;
                        left: 41%;
                        width: 37.3%;
                        transform: rotate(0deg);
                    }
                    .line3{
                        top: 50.3%;
                        left: 42.3%;
                        width: 45.3%;
                        transform: rotate(-4.7deg);
                    }
                    .line4{
                        top: 44.3%;
                        left: 45.3%;
                        width: 44.3%;
                        transform: rotate(19.3deg);
                    }

                    .line5{
                        top: 68.3%;
                        left: 52.3%;
                        width: 34.3%;
                        transform: rotate(19.3deg);
                    }
                    .line6{
                        top: 15%;
                        left: 83.1%;
                        width: 51.3%;
                        transform: rotate(87deg);
                    }
                    .line7{
                        top: 15%;
                        left: 83.1%;
                        width: 28.3%;
                        transform: rotate(86deg);
                    }

                    .line8{
                        top: 15%;
                        left: 83.1%;
                        width: 44.3%;
                        transform: rotate(89deg);
                    }
                    .line9{
                        top: 15%;
                        left: 83.1%;
                        width: 17%;
                        transform: rotate(90deg);
                    }
                    .line10{
                        top: 28%;
                        left: 53%;
                        width: 53.3%;
                        transform: rotate(53.8deg);
                    }
                    .line11{
                        top: 46%;
                        left: 87.1%;
                        width: 30.3%;
                        transform: rotate(99.5deg);
                    }
                    .line12{
                        top: 16%;
                            left: 83.5%;
                            width: 53.3%;
                            transform: rotate(92deg);
                    }


                    .line13{
                        top: 34%;
                        left: 98.5%;
                        width: 99.3%;
                        transform: rotate(180deg);
                    }
                    .line14{
                        top: 25%;
                        left: 95.5%;
                        width: 53.3%;
                        transform: rotate(110deg);
                    }
                    .line15{
                    top: 92%;
                    left: 91.5%;
                    width: 105.3%;
                    transform: rotate(209deg)
                    }
                    .line16{
                        top: 78%;
                        left: 89.5%;
                        width: 60.3%;
                        transform: rotate(241deg);
                    }
                 .angle {
                    width: 0;
                    height: 0;
                 
                    position: absolute;
                    z-index: 2;
                   
                

                    }
                   .angle.angle1{
                    
                    top: 35%;
                    right: 7.1%;
                    transform: rotate(0deg);
                    border-left: 23px solid transparent;
                    border-right: 15px solid transparent;
                    border-top: 35px solid #4397ff;
                    }
                    .angle.angle2{
                        top: 35%;
                        right: 81.1%;
                        transform: rotate(0deg);
                        border-left: 43px solid transparent;
                        border-right: 5px solid transparent;
                        border-top: 23px solid #4397ff;
                    }
                    .angle.angle3{
                        top: 76%;
                        right: 19%;
                        transform: rotate(0deg);
                        border-left: 59px solid transparent;
                        border-right: 14px solid transparent;
                        border-top: 34px solid #4397ff;
                    }

                    .angle.angle4{
                       
                        width: 30px;
                        height: 30px;
                        background-color: #4CAF50;
                        transform: rotate(270deg);
                        top: 35%;
                        right: 30%;
                        border-radius: 127% 0px 0% 0%;
                    }
                    .angle.angle4::before{
                        content: "";
                        width: 0;
                        height: 0;
                        border-top: 17px solid #4CAF50;
                        border-right: 30px solid transparent;
                        position: absolute;
                        top: 30px;
                        right: 0px;
                   }
                  
                    @media only screen and (max-width: 480px) {

                        .angle.angle3 {
                            top: 76%;
                            right: 19%;
                            transform: rotate(0deg);
                            border-left: 37px solid transparent;
                            border-right: 8px solid transparent;
                            border-top: 19px solid #4397ff;
                        }
                        .angle.angle1 {
                            top: 35%;
                            right: 7.1%;
                            transform: rotate(0deg);
                            border-left: 22px solid transparent;
                            border-right: 12px solid transparent;
                            border-top: 25px solid #4397ff;
                            border-top: 29px solid #4397ff;
                        }
                        .angle.angle2 {
                            top: 35.4%;
                            right: 77.1%;
                            transform: rotate(0deg);
                            border-left: 42px solid transparent;
                            border-right: 4px solid transparent;
                            border-top: 22px solid #4397ff;
                        }
                        .angle.angle4{
                       
                       width: 30px;
                       height: 30px;
                       background-color: #4CAF50;
                       transform: rotate(270deg);
                       top: 35%;
                       right: 30%;
                       border-radius: 127% 0px 0% 0%;
                   }
                   .angle.angle4::before{
                    content: "";
                    width: 0;
                    height: 0;
                    border-top: 18px solid #4CAF50;
                    border-right: 30px solid transparent;
                    position: absolute;
                    top: 29px;
                    right: 0px;
                  }

                    }

                
            </style>
            


        
            <!-- Tooltip -->
            <div class="tooltip-sp" id="tooltip-sp"></div>
        </div>
        </div>
        <style>
            .form-check-input[type="radio"] {
              appearance: none;
              -webkit-appearance: none;
              width: 20px;
              height: 20px;
              border: 2px solid #adb5bd;
              border-radius: 0; /* ÿ®ÿ±ÿß€å ŸÖÿ±ÿ®ÿπ€å ÿ¥ÿØŸÜ */
              margin-left: 10px;
            }
        
            .form-check-input[type="radio"]:checked {
              background-color: #0d6efd; /* ÿ±ŸÜ⁄Ø ÿ¢ÿ®€å ÿ®ÿ±ÿß€å ÿßŸÜÿ™ÿÆÿßÿ® ÿ¥ÿØŸá */
              border-color: #0d6efd;
            }
        
            /* ÿ≠ÿßŸÑÿ™ ÿØÿ±ÿ≥ÿ™ Ÿà ÿ∫ŸÑÿ∑ */
            .correct {
              background-color: green !important;
              border-color: green !important;
            }
        
            .incorrect {
              background-color: red !important;
              border-color: red !important;
            }
        
            #nextBtn {
              display: none; /* ŸÖÿÆŸÅ€å ⁄©ÿ±ÿØŸÜ ÿØ⁄©ŸÖŸá ÿ≥ŸàÿßŸÑ ÿ®ÿπÿØ€å ÿ™ÿß ŸàŸÇÿ™€å ÿ¨Ÿàÿßÿ® ÿØÿßÿØŸá ÿ¥ŸàÿØ */
            }
            
          </style>
           <style>
            .coin {
                width: 100px;
                height: 100px;
                background-image: url('coin.png'); /* Replace with the path to your PNG coin image */
                background-size: cover;
                display: inline-block;
                animation: none; /* No animation by default */
            }
    
            /* Define keyframes for the animation with flash */
            @keyframes coin-animation {
                0% {
                    transform: scale(1) rotateY(0deg) translateY(0);
                    opacity: 1;
                }
                25% {
                    opacity: 0.5; /* Flash effect */
                }
                50% {
                    transform: scale(1.2) rotateY(180deg) translateY(-20px);
                    opacity: 1; /* Restore visibility */
                }
                75% {
                    opacity: 0.5; /* Flash effect again */
                }
                100% {
                    transform: scale(1) rotateY(360deg) translateY(0);
                    opacity: 1;
                }
            }
    
            /* Trigger the animation when the coin is clicked or shown */
            .coin.animate {
                animation: coin-animation 1s ease-in-out forwards;
            }
        </style>
        <div class="container mt-4" id="secondGame" style="display: none;">
            <!-- ÿ≥ŸàÿßŸÑ -->
            <div class="card">
              <div class="card-body">
                <h5 id="questionTitle" class="card-title">ÿ≥ŸàÿßŸÑ</h5>
                <!-- ⁄Øÿ≤€åŸÜŸá‚ÄåŸáÿß -->
                <form id="quizForm">
                  <div id="optionsContainer"></div>
                  <!-- ÿØ⁄©ŸÖŸá ÿ™ÿß€å€åÿØ -->
                  <button type="button" class="btn btn-primary mt-3" id="submitBtn">ÿßÿ±ÿ≥ÿßŸÑ ÿ¨Ÿàÿßÿ®</button>
                  <!-- ÿØ⁄©ŸÖŸá ÿ≥ŸàÿßŸÑ ÿ®ÿπÿØ€å -->
                  <button type="button" class="btn btn-secondary mt-3" id="nextBtn">ÿ≥ÿ§ÿßŸÑ ÿ®ÿπÿØ€å</button>
                </form>
              </div>
            </div>
          </div>
        
          <!-- ÿ¨ÿßŸàÿßÿßÿ≥⁄©ÿ±€åŸæÿ™ ÿ®Ÿàÿ™‚Äåÿßÿ≥ÿ™ÿ±Ÿæ Ÿà jQuery -->
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
          <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        
          <!-- ÿßÿ≥⁄©ÿ±€åŸæÿ™ ÿ®ÿ±ÿß€å ÿ™ÿ∫€å€åÿ± ÿ≥ŸàÿßŸÑ Ÿà ÿ¨Ÿàÿßÿ® -->
          <script>
            function getRandomIndex(excludedIndex) {
                let randomIndex;

                do {
                    // Generate a random index between 1 and 18 (inclusive)
                    randomIndex = Math.floor(Math.random() * 12) ;
                } while (randomIndex === excludedIndex);  // Repeat if the generated number is the excluded one

                return randomIndex;
            }

            const lineValues=["SN","Frankfort(po-or)","Palatial plan(PNS-ANS)","4-Anatomical Occlusal plan",
                        "Mandibular plan(Go-Gn)","Facial plan","NA","NB","N-perp","S-Gn","ANS-Me","N-Me"];

            const anglesValue=["IMPA","FMIA","FMA","UP1 to FH","PO"];            
            function getRandomIndices(excludedIndex) {
                   
                   let indices =[];
                  var index=0;
                   do {
                       let randomIndex = Math.floor(Math.random() * 12);  // Generate a random index between 0 and 11
 
                      
                       if (randomIndex !== excludedIndex  && !indices.includes(randomIndex)) {
                           indices.push(randomIndex);
                       }
                       else{
                        index--;
                       }
                       index++;
                   }while( index < 4)
 
                   return indices;  // Convert the set to an array
               }
               function getRandomIndices2(excludedIndex) {
                   let indices =[];
                  var index=0;
                   do {
                       let randomIndex = Math.floor(Math.random() * 5) ;  // Generate a random index between 0 and 11
 
                      
                       if (randomIndex !== excludedIndex  && !indices.includes(randomIndex)) {
                           indices.push(randomIndex);
                       }
                       else{
                        index--;
                       }
                       index++;
                   }while( index < 4)
 
                   return indices;  // Convert the set to an array
               }
             

            function generateTrueFalse(){
            
                let arr = [false, false, false, false];  // Initialize array with all `false`
                
                // Generate a random index between 0 and 3
                let randomIndex = Math.floor(Math.random() * 4);
                
                // Set one element to `true` at the random index
                arr[randomIndex] = true;
                
                return arr;
            }

            
            var appendArray="";
            const ccc =$.each(lineValues, function(key, value){
            var  trueFlase=generateTrueFalse();
            var getRandomIndice=getRandomIndices(key)
            
            appendArray+=' {'  +
                ' "question": "ÿÆÿ∑ ŸÖÿ¥ÿÆÿµ ÿ¥ÿØŸá ÿØÿ± ÿ™ÿµŸà€åÿ± ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü",' +
                ' "options": [ ' +
                '  { "text":"' + (trueFlase[0] ==true ? value : lineValues[getRandomIndice[0]])+ '" , "isCorrect" : '+trueFlase[0] +' },' +
                 '{"text":"' + (trueFlase[1] ==true ? value : lineValues[getRandomIndice[1]]) +'", "isCorrect": '+trueFlase[1] +' },'+
                 '{"text":"' + (trueFlase[2] ==true ? value : lineValues[getRandomIndice[2]])+ '", "isCorrect": '+trueFlase[2] +' },' +
                 '{"text":"' +( trueFlase[3] ==true ? value : lineValues[getRandomIndice[3]]) +'", "isCorrect": '+trueFlase[3] +' }'+
                 ']},';
                
            });
          
            

            var appendArray2="";
            const ccc2 =$.each(anglesValue, function(key, value){
                
            var  trueFlase2=generateTrueFalse();
            var getRandomIndice2=getRandomIndices2(key);

            appendArray2+=' {'  +
                ' "question": "ÿ≤Ÿàÿß€åŸá ŸÖÿ¥ÿÆÿµ ÿ¥ÿØŸá ÿØÿ± ÿ™ÿµŸà€åÿ± ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü",' +
                ' "options": [ ' +
                '  { "text":"' + (trueFlase2[0] ==true ? value : anglesValue[getRandomIndice2[0]])+ '" , "isCorrect" : '+trueFlase2[0] +' },' +
                 '{"text":"' + (trueFlase2[1] ==true ? value : anglesValue[getRandomIndice2[1]]) +'", "isCorrect": '+trueFlase2[1] +' },'+
                 '{"text":"' + (trueFlase2[2] ==true ? value : anglesValue[getRandomIndice2[2]])+ '", "isCorrect": '+trueFlase2[2] +' },' +
                 '{"text":"' +( trueFlase2[3] ==true ? value : anglesValue[getRandomIndice2[3]]) +'", "isCorrect": '+trueFlase2[3] +' }'+
                 ']},';
                
            });

           
           
          
            var questions =JSON.parse('['+appendArray.substring(0,appendArray.length - 1) + ']');

            var question2 =JSON.parse('['+appendArray2.substring(0,appendArray2.length - 1) + ']');

            
            //  [
            //   {
            //     question: "ÿÆÿ∑ ŸÖÿ¥ÿÆÿµ ÿ¥ÿØŸá ÿØÿ± ÿ™ÿµŸà€åÿ± ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü",
            //     options: [
            //       { text: lineValues[getRandomIndex(0)], isCorrect: false },
            //       { text: lineValues[getRandomIndex(0)], isCorrect: false },
            //       { text: lineValues[0], isCorrect: true },
            //       { text: lineValues[getRandomIndex(0)], isCorrect: false }
            //     ]
            //   },
            //   {
            //     question: "ÿÆÿ∑ ŸÖÿ¥ÿÆÿµ ÿ¥ÿØŸá ÿØÿ± ÿ™ÿµŸà€åÿ± ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü",
            //     options: [
            //       { text: lineValues[2], isCorrect: false },
            //       { text: lineValues[1], isCorrect: true },
            //       { text: lineValues[7], isCorrect: false },
            //       { text: lineValues[5], isCorrect: false }
            //     ]
            //   },
            //   {
            //     question: "ÿÆÿ∑ ŸÖÿ¥ÿÆÿµ ÿ¥ÿØŸá ÿØÿ± ÿ™ÿµŸà€åÿ± ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü",
            //     options: [
            //       { text: lineValues[6], isCorrect: false },
            //       { text: lineValues[2], isCorrect: false },
            //       { text: lineValues[8], isCorrect: false },
            //       { text: lineValues[3], isCorrect: true }
            //     ]
            //   },
            //   {
            //     question: "ÿÆÿ∑ ŸÖÿ¥ÿÆÿµ ÿ¥ÿØŸá ÿØÿ± ÿ™ÿµŸà€åÿ± ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü",
            //     options: [
            //       { text: lineValues[7], isCorrect: false },
            //       { text: lineValues[3], isCorrect: true },
            //       { text: lineValues[9], isCorrect: false },
            //       { text: lineValues[1], isCorrect: false }
            //     ]
            //   },
            // ];
        
            let currentQuestionIndex = 0;
            let flagThridGame=0;
        
            $(document).ready(function() {
              loadQuestion();
              $('#submitBtn').click(function() {
                const selectedOption = $('input[name="option"]:checked');
                $(this).prop('disabled', true);


        
                if (selectedOption.length > 0) {
                  const isCorrect = selectedOption.val() === "true";
                  $('input[value="true"]').addClass('correct');
                  if (!isCorrect) {
                    selectedOption.addClass('incorrect');
                  }
                  if(isCorrect){

                    var trueAnswer= parseInt($.trim($("#trueAnswer1").text()));
                        $("#trueAnswer1").text(trueAnswer+1);
                        $("#trueAnswer").text(trueAnswer+1);
                    var wholeAnswer=parseInt($.trim($("#wholeAnswer").text()));
                    $("#wholeAnswer").text(wholeAnswer-1);
                    $("#audioCorrect")[0].play();



                  }
                  else{
                    var falseAnswer= parseInt($.trim($("#falseAnswer").text()));
                        $("#falseAnswer").text(falseAnswer+1);
                    var wholeAnswer=parseInt($.trim($("#wholeAnswer").text()));
                    $("#wholeAnswer").text(wholeAnswer-1);
                    $("#audioWrong")[0].play();

                  }

                  if( flagThridGame==1 && currentQuestionIndex==3)

                  
                    { alert("ÿ¢ÿ≤ŸÖŸàŸÜ ÿ™ŸÖÿßŸÖ ÿ¥ÿØ!");
                                return;
                        }
                  $('#nextBtn').show();
                } else {
                  alert('ŸÑÿ∑ŸÅÿßŸã €å⁄© ⁄Øÿ≤€åŸÜŸá ÿ±ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ.');
                }
               
              });
        
              $('#nextBtn').click(function() {

               $("#submitBtn").prop('disabled', false);

                currentQuestionIndex++;
                if(flagThridGame==1){
                    if(currentQuestionIndex==4){
                        alert("ÿ¢ÿ≤ŸÖŸàŸÜ ÿ™ŸÖÿßŸÖ ÿ¥ÿØ!");
                        return;
                    }
                        
                $("#spetialLines").find("div").css("display","none");

                  
               
                $(".aglines").find(" >div").css("display","none");
                $(".aglines").find(" >div").eq(currentQuestionIndex).css("display","block");


                $("#angles").find(" div").css("display","none");
                $("#angles").find("div").eq(currentQuestionIndex).css("display","block");

                if (currentQuestionIndex < 4) {
                  loadQuestion();
                  $('#nextBtn').hide();
                } else {
                  alert("ÿ¢ÿ≤ŸÖŸàŸÜ ÿ™ŸÖÿßŸÖ ÿ¥ÿØ!");
                

                  
                }

                }
                
                if(flagThridGame==0){
                $("#spetialLines").find("div").css("display","none");
                $("#spetialLines").find("div").eq(currentQuestionIndex).css("display","block");
                if (currentQuestionIndex < questions.length) {
                  loadQuestion();
                  $('#nextBtn').hide();
                } else {
                    debugger
                    var trueAnswer= parseInt($.trim($("#trueAnswer1").text()));
                    if(trueAnswer >5){
                        
                        $(".notAllowToThirdGame").css("display","none");
                        $(".allowToThirdGame").css("display","block");
                        $("winStage")[0].play();
                        $('#celebration-screen').fadeIn().delay(3000).fadeOut();
                      
                        



                    }
                   else{
                    $(".notAllowToThirdGame").css("display","block");
                    $(".allowToThirdGame").css("display","none");
                   }
                    $('#exampleModalCenter2').modal('toggle');


                  
                }
                }
                    
               
          

           
              });
            });
        
            function loadQuestion() {
              // Ÿæÿß⁄© ⁄©ÿ±ÿØŸÜ ÿ¨Ÿàÿßÿ®‚ÄåŸáÿß€å ŸÇÿ®ŸÑ€å
              $('.form-check-input').removeClass('correct incorrect');
              $('#optionsContainer').empty();
              
        
              const currentQuestion = questions[currentQuestionIndex];
              $('#questionTitle').text(currentQuestion.question);
        
              currentQuestion.options.forEach((option, index) => {
                $('#optionsContainer').append(`
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="option" id="option${index}" value="${option.isCorrect}">
                    <label class="form-check-label" for="option${index}">
                      ${option.text}
                    </label>
                  </div>
                `);
              });
            }
          </script>
        </div>



        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                    
                  <h5 class="modal-title" id="exampleModalLongTitle">ÿ®ÿßÿ≤€å ÿ®Ÿá ÿßÿ™ŸÖÿßŸÖ ÿ±ÿ≥€åÿØ</h5>
                 
                  <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button> -->
                </div>
                <div class="modal-body">
                    <div class="alert alert-light" role="alert">
                        <div class="d-flex flex-row align-content-around">
                            <div class="notAllowToSecondGame">
                                <h5 class="modal-title" id="exampleModalLongTitle">   ÿ¥ŸÖÿß ÿ≥⁄©Ÿá‚ÄåŸáÿß€å ⁄©ÿßŸÅ€å ÿ®ÿ±ÿß€å ÿ®ÿßÿ≤€å ÿØŸàŸÖ ÿ±ÿß ⁄©ÿ≥ÿ® ŸÜ⁄©ÿ±ÿØ€åÿØ ÿØŸàÿ®ÿßÿ±Ÿá ÿ™ŸÑÿßÿ¥ ⁄©ŸÜ€åÿØ.</h5>
            
                              </div>
                        <div class="col" >
                            <div>
                            ÿØÿ±ÿ≥ÿ™ 
                            </div>
                            <div class="badge text-bg-success" id="finalTrueAnswer">0</div>
                             </div> 
                        <div class="col" >
                            <div>
                                ÿ∫ŸÑÿ∑
                            </div>
                                <div class="badge text-bg-danger" id="finalFalseAnswer">0</div>
                        </div> 
                    </div>
                      </div>
                </div>
                <div class="modal-footer">
                  <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
                    <div class="notAllowToSecondGame">
                        <button type="button" class="btn btn-primary" onclick="location.reload()">ÿ®ÿßÿ≤€å ÿØŸàÿ®ÿßÿ±Ÿá </button>

                    </div>
                  <div class="allowToSecondGame">
                  <button type="button" class="btn btn-primary" onclick="initSecondGame()">ÿ®ÿßÿ≤€å ÿØŸàŸÖ</button>
                </div>
                </div>
              </div>
            </div>
          </div>



          <div class="modal fade" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLongTitle">ÿ®ÿßÿ≤€å ÿ®Ÿá ÿßÿ™ŸÖÿßŸÖ ÿ±ÿ≥€åÿØ</h5>
                  <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button> -->
                </div>
                <div class="modal-body">
                    <div class="alert alert-light" role="alert">
                        <div class="d-flex flex-row align-content-around">
                            ÿ®ÿßÿ≤€å ÿØŸàŸÖ ÿ®Ÿá Ÿæÿß€åÿßŸÜ ÿ±ÿ≥€åÿØ.

                            <div class="notAllowToThirdGame">
                                ÿ¥ŸÖÿß ÿ™ÿπÿØÿßÿØ ÿ≥⁄©Ÿá ŸÑÿßÿ≤ŸÖ ÿ®ÿ±ÿß€å Ÿàÿ±ŸàÿØ ÿ®Ÿá ÿ®ÿßÿ≤€å ÿ≥ŸàŸÖ ÿ±ÿß ⁄©ÿ≥ÿ® ŸÜ⁄©ÿ±ÿØ€åÿØ ÿØŸàÿ®ÿßÿ±Ÿá ÿ™ŸÑÿßÿ¥ ⁄©ŸÜ€åÿØ!
                            </div>
                        <!-- <div class="col" >
                            <div>
                            ÿØÿ±ÿ≥ÿ™ 
                            </div>
                            <div class="badge text-bg-success" id="finalTrueAnswer">0</div>
                             </div> 
                        <div class="col" >
                            <div>
                                ÿ∫ŸÑÿ∑
                            </div>
                                <div class="badge text-bg-danger" id="finalFalseAnswer">0</div>
                        </div>  -->
                    </div>
                      </div>
                </div>
                <div class="modal-footer">
                  <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
                   <div class="notAllowToThirdGame">
                    <button type="button" class="btn btn-primary" onclick="location.reload()">ÿ®ÿßÿ≤€å ÿØŸàÿ®ÿßÿ±Ÿá</button>

                   </div>
                   <div class="allowToThirdGame">
                     <button type="button" class="btn btn-primary" onclick="initThirdGame()">ÿ®ÿßÿ≤€å ÿ≥ŸàŸÖ</button>
                      </div>
                </div>
              </div>
            </div>
          </div>

      </div>
      <style>
        .imgholder{
            position: relative;
            background-image: url("./assets/image/0nZXNeqUpLJ.png");
            background-color: #cccccc; 
            height: 500px; 
            background-position: center; 
            background-repeat: no-repeat; 
            background-size: cover; 
            width: 100%;
        }
        .imgholder img{
            position: relative;
        }
        .dot{
            width: 15px;
            height: 15px;
            position: absolute;
            top: 10px;
            background-color: #1976D2;
            border-radius: 100%;
            border: 2px solid #653131;
        }
      </style>


 <style>
    
        .container-sp {
            position: relative;
            width: 100%;
            max-width: 600px;
        }

        .container-sp img {
            width: 100%;
            height: auto;
        }

        .marker {
            position: absolute;
            background-color: #56b0f9;
            border-radius: 50%;
            width: 12px;
            height: 12px;
            cursor: pointer;
            border: 2px solid #812222;
            z-index: 6;
        }

        /* Example markers */
        .marker1 {
            top: 33.4%;
            left: 40.6%;
        }

        .marker2 {
            top: 46%;
            left: 31.6%;
        }

        .marker3 {
            top: 26.8%;
            left: 51.7%;
        }
        .marker4 {
            top: 41.2%;
             left: 45.6%;
        }
        .marker5 {
            top: 67%;
            left: 50.6%;
        }
        .marker6 {
            top: 49%;
             left: 62.6%;
        }
        .marker7 {
            top: 71%;
            left: 83.2%;
        }
        .marker8 {
            top: 78%;
            left: 84.6%;
        }
        .marker9 {
            top: 82%;
            left: 83.6%;
        }
        .marker10 {
            top: 83.2%;
            left: 80.9%;
        }
        .marker11 {
            top: 49%;
            left: 41.8%;
        }
        .marker12 {
            top: 15%;
            left: 82.1%;
        }
        .marker13 {
            top: 33.2%;
            left: 76.1%;
        }
        .marker14 {
            top: 45%;
            left: 86.2%;
        }
        .marker15 {
            top: 49%;
            left: 84.1%;
        }
        .marker16 {
            top: 35%;
            left: 57.2%;
        }
        .marker17 {
            top: 55.5%;
            left: 92.5%;
        }
        .marker18{
            top: 65%;
            left: 91.5%;
        }
        
        .tooltip-sp {
            display: none;
            position: absolute;
            background-color: #333;
            color: white;
            padding: 5px;
            border-radius: 5px;
            z-index: 8;
        }
   
 </style>
    
<script>
    
    $(document).ready(function(){


    const measure = $('select#measure')
    const ammount = $('input#num')
    const timer = $('#timer')
    const s = $(timer).find('.seconds')
    const m = $(timer).find('.minutes')
    const h = $(timer).find('.hours')
   
    const coordinate=['Gonion (Go)',];
    var seconds = 0
    var minutes = 0
    var hours = 0

    var interval = null;

    var clockType = undefined;

    function cronometer() {
        hasStarted = true
        interval = setInterval(() => {
            if (seconds < 59) {
                seconds++
                refreshClock()
            }
            else if (seconds == 59) {
                minutes++
                seconds = 0
                refreshClock()
            }

            if (minutes == 60) {
                hours++
                minutes = 0
                seconds = 0
                refreshClock()
            }

        }, 1000)
    }
    function refreshClock() {
        $(s).text(pad(seconds))
        $(m).text(pad(minutes))
        if (hours < 0) {
            $(s).text('00')
            $(m).text('00')
            $(h).text('00')
        } else {
            $(h).text(pad(hours))
        }

        if (hours == 0 && minutes == 0 && seconds == 0 && hasStarted == true) {
            hasEnded = true
            alert('The Timer has Ended !')
        }
    }

    function clear(intervalID) {
        clearInterval(intervalID)
        console.log('cleared the interval called ' + intervalID)
    }
    function pad(d) {
        return (d < 10) ? '0' + d.toString() : d.toString()
    }
    // function getTheName(gameStage){
    //        $("#gameStageName").html(cephNames[gameStage]);
    // }
    // getTheName(0);
    cronometer();
});
$(document).ready(function(){

          nextMarker();
        
        // $('.marker').on('mouseenter', function() {

        //     const tooltipText = $(this).data('tooltip');
        //     $('#tooltip-sp').text(tooltipText).css({
        //         top: $(this).position().top - 30,
        //         left: $(this).position().left + 20
        //     }).fadeIn();
        // });

        // $('.marker').on('mouseleave', function() {
        //     $('#tooltip-sp').fadeOut();
        // });
      var possibleWrongAnswer=0;
      $('.marker').on('click', function(e) {
         
             e.preventDefault();
             e.stopImmediatePropagation();
             e.stopPropagation();

            $('#tooltip-sp').fadeOut();
          const tooltipText= $.trim( $(this).data('tooltip'));
         const targetvalue=$.trim( $("#gameStageName").text());
         var wholeAnswer=parseInt( $.trim($("#wholeAnswer").text()));
         if(tooltipText==targetvalue){
                

            if($(this).css("backgroundColor")=='rgb(0, 191, 154)' ){

                nextMarker();
                return;
                
            }else 
        
          if($(this).css("backgroundColor")=='rgb(255, 165, 0)')
         {
          
            $(this).css({
                backgroundColor:'red'
            });
            var falseAnswer= parseInt($.trim($("#falseAnswer").text()));
            $("#falseAnswer").text(falseAnswer+1);
         }
         else
         {
            $(this).css({
                backgroundColor:'#00bf9a'
            });
            var trueAnswer= parseInt($.trim($("#trueAnswer").text()));
            $("#trueAnswer").text(trueAnswer+1);
            $("#trueAnswer1").text(trueAnswer+1);


            const coin = document.getElementById('coin');

            coin.classList.add('animate');
            
            // Remove the animation class after it's done so it can be triggered again
            setTimeout(() => {
                coin.classList.remove('animate');
            }, 1000); // Duration matches the animation time


        }
            if(parseInt( $("#wholeAnswer").text()) >0 )
            $("#wholeAnswer").text(wholeAnswer -1);
            $("#audioCorrect")[0].play();
            
            nextMarker();
            
         }else{

          const tooltipText = $(this).data('tooltip');
            $('#tooltip-sp').text(tooltipText).css({
                top: $(this).position().top - 30,
                left: $(this).position().left + 20
            }).fadeIn().delay(500).fadeOut();
            

           


            
            $("#audioWrong")[0].play();
           if(possibleWrongAnswer < 4){
            if(possibleWrongAnswer==3){  
                $('.marker').each( function() {
                    const tooltipText = $(this).data('tooltip');
                    if(tooltipText==targetvalue){
                        $(this).css({
                            backgroundColor:"orange"
                        })
                    }
                
                
                });    
            

                possibleWrongAnswer=0;

            }
            possibleWrongAnswer++;
        }
           
          

            

            // $(this).css({
            //     backgroundColor:'red'
            // });
         
            // var falseAnswer= parseInt($.trim($("#falseAnswer"
            //     ).text()));
            //     $("#falseAnswer").text(falseAnswer+1);
            //     $("#wholeAnswer").text(wholeAnswer -1);


         }
         if(wholeAnswer==0){
            $("#finalFalseAnswer").text($("#falseAnswer"
            ).text());
            $("#finalTrueAnswer").text($("#trueAnswer"
            ).text());
           var trueAnswer= parseInt($.trim($("#trueAnswer1").text()));
            if(trueAnswer >6) //change the coin number to start the second game
                {

                   $(".allowToSecondGame").css("display","block");
                   $(".notAllowToSecondGame").css("display","none");
                    $('#exampleModalCenter').modal('toggle');
                    $("winStage")[0].play();
                    $('#celebration-screen').fadeIn().delay(3000).fadeOut();

                }
                else{
                    $(".allowToSecondGame").css("display","none");
                    $(".notAllowToSecondGame").css("display","block");
            $('#exampleModalCenter').modal('toggle');
                }


            
         }
         
        });



           
    });


    const pointMark=['Porion (P)','Bolton (Bo)','Sella Turcica (S)','Condylion (Co)','Gonion (Go)','Posterior Nasal Spine (PNS)',
           'B-point', 'Pogonion (Pog)','Gnathion (Gn)','Menton (Me)','Basion (Ba)','Nasion (Na)','Orbitale (Or)',
            'Anterior Nasal Spine (ANS)','A point','PT point'
            ];


            
            let usedNumbers = [];

                function getRandomUniqueNumber() {
                    
                    if (usedNumbers.length === 17) {
                        console.log("All numbers have been used.");
                        return null; // All numbers between 0 and 17 have been used
                    }

                    let randomNumber;
                    do {
                        randomNumber = Math.floor(Math.random() * 17);  // Generate a number between 0 and 17
                    } while (usedNumbers.includes(randomNumber));  // Keep generating if the number has already been used

                    usedNumbers.push(randomNumber);  // Add the new number to the usedNumbers array
                   
                    return randomNumber;
                }

                console.log(usedNumbers);


    function nextMarker(){

        $("#gameStageName").text(pointMark[getRandomUniqueNumber()]);

    }
    function initSecondGame(){
      $("#spetialLines").find("div").eq(currentQuestionIndex).css("display","block");
      $("#secondGame").css("display","block");
      $('.marker').removeAttr('style');
      $(".marker").css({"backgroundColor":"#56b0f9"});
      $('.marker').off('click');  
      $('#exampleModalCenter').modal('toggle');
      $("#trueAnswer1").text("0");
       $("#wholeAnswer").text("13"); 
       $("#trueAnswer").text("0");
       $("#falseAnswer").text("0");

       


       
     

    }
    function initThirdGame(){

        currentQuestionIndex=0;
        questions=question2;   
        flagThridGame=1;
        loadQuestion();

        $("#spetialLines").find("div").css("display","none");
        
        $(".aglines").find(">div").eq(0).css("display","block");
        $("#angles").find("div").eq(0).css("display","block");
        $('#exampleModalCenter2').modal('toggle');
        $("#trueAnswer1").text("0");
                $("#wholeAnswer").text("4"); 
            $("#trueAnswer").text("0");
            $("#falseAnswer").text("0");

    }



</script>    
</body>
</html>
